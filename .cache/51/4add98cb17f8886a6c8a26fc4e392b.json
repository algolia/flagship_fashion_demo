{"id":"L4EH","dependencies":[{"name":"/Users/hugo.valla/Desktop/DEMO ğŸ…/flagship-demo.js/package.json","includedInParent":true,"mtime":1607612737343},{"name":"/Users/hugo.valla/Desktop/DEMO ğŸ…/flagship-demo.js/node_modules/instantsearch.js/package.json","includedInParent":true,"mtime":1607596871158},{"name":"preact","loc":{"line":2,"column":18},"parent":"/Users/hugo.valla/Desktop/DEMO ğŸ…/flagship-demo.js/node_modules/instantsearch.js/es/lib/insights/listener.js","resolved":"/Users/hugo.valla/Desktop/DEMO ğŸ…/flagship-demo.js/node_modules/preact/dist/preact.module.js"},{"name":"../../helpers/insights","loc":{"line":3,"column":54},"parent":"/Users/hugo.valla/Desktop/DEMO ğŸ…/flagship-demo.js/node_modules/instantsearch.js/es/lib/insights/listener.js","resolved":"/Users/hugo.valla/Desktop/DEMO ğŸ…/flagship-demo.js/node_modules/instantsearch.js/es/helpers/insights.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"preact\"),e=require(\"../../helpers/insights\"),r=function(t,e,r){for(var n=t;n&&!r(n);){if(n===e)return null;n=n.parentElement}return n},n=function(t){var e=t.getAttribute(\"data-insights-event\");if(\"string\"!=typeof e)throw new Error(\"The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.\");try{return JSON.parse(atob(e))}catch(r){throw new Error(\"The insights middleware was unable to parse `data-insights-event`.\")}},a=function(a){return function(i){return(0,t.h)(\"div\",{onClick:function(t){if(i.sendEvent){var a=r(t.target,t.currentTarget,function(t){return t.hasAttribute(\"data-insights-event\")});if(a){var s=n(a);i.sendEvent(s)}}var u=r(t.target,t.currentTarget,function(t){return(0,e.hasDataAttributes)(t)});if(u){var o=(0,e.readDataAttributes)(u),d=o.method,h=o.payload;i.insights(d,h)}}},(0,t.h)(a,i))}},i=a;exports.default=i;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":0}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":13}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":20}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":35}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":43}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":56}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":57}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":64}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":68}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":76}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":89}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":2,"column":0},"generated":{"line":1,"column":91}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":2,"column":0},"generated":{"line":1,"column":95}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":2,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":2,"column":0},"generated":{"line":1,"column":105}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":3,"column":0},"generated":{"line":1,"column":115}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":3,"column":0},"generated":{"line":1,"column":117}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":3,"column":0},"generated":{"line":1,"column":125}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"findInsightsTarget","original":{"line":5,"column":4},"generated":{"line":1,"column":151}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":5,"column":25},"generated":{"line":1,"column":153}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"startElement","original":{"line":5,"column":53},"generated":{"line":1,"column":162}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"endElement","original":{"line":5,"column":67},"generated":{"line":1,"column":164}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"validator","original":{"line":5,"column":79},"generated":{"line":1,"column":166}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":8,"column":9},"generated":{"line":1,"column":169}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":6,"column":6},"generated":{"line":1,"column":173}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":6,"column":6},"generated":{"line":1,"column":177}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"startElement","original":{"line":6,"column":16},"generated":{"line":1,"column":179}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":8,"column":9},"generated":{"line":1,"column":181}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"validator","original":{"line":8,"column":21},"generated":{"line":1,"column":185}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":8,"column":31},"generated":{"line":1,"column":187}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":8,"column":41},"generated":{"line":1,"column":191}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":9,"column":8},"generated":{"line":1,"column":192}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":9,"column":8},"generated":{"line":1,"column":195}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"endElement","original":{"line":9,"column":20},"generated":{"line":1,"column":199}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":10,"column":13},"generated":{"line":1,"column":201}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":10,"column":13},"generated":{"line":1,"column":208}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":13,"column":4},"generated":{"line":1,"column":213}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":13,"column":14},"generated":{"line":1,"column":215}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"parentElement","original":{"line":13,"column":22},"generated":{"line":1,"column":217}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":16,"column":9},"generated":{"line":1,"column":231}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":16,"column":9},"generated":{"line":1,"column":238}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"parseInsightsEvent","original":{"line":19,"column":4},"generated":{"line":1,"column":241}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":19,"column":25},"generated":{"line":1,"column":243}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":19,"column":53},"generated":{"line":1,"column":252}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"serializedPayload","original":{"line":20,"column":6},"generated":{"line":1,"column":255}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"serializedPayload","original":{"line":20,"column":6},"generated":{"line":1,"column":259}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":20,"column":26},"generated":{"line":1,"column":261}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"getAttribute","original":{"line":20,"column":34},"generated":{"line":1,"column":263}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":20,"column":47},"generated":{"line":1,"column":276}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":22,"column":6},"generated":{"line":1,"column":299}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":22,"column":35},"generated":{"line":1,"column":302}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"serializedPayload","original":{"line":22,"column":13},"generated":{"line":1,"column":319}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":23,"column":10},"generated":{"line":1,"column":321}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":23,"column":10},"generated":{"line":1,"column":327}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"Error","original":{"line":23,"column":14},"generated":{"line":1,"column":331}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":23,"column":20},"generated":{"line":1,"column":337}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":26,"column":6},"generated":{"line":1,"column":430}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"JSON","original":{"line":27,"column":11},"generated":{"line":1,"column":434}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"JSON","original":{"line":27,"column":11},"generated":{"line":1,"column":441}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"parse","original":{"line":27,"column":16},"generated":{"line":1,"column":446}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"atob","original":{"line":27,"column":22},"generated":{"line":1,"column":452}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"serializedPayload","original":{"line":27,"column":27},"generated":{"line":1,"column":457}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":28,"column":4},"generated":{"line":1,"column":461}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"error","original":{"line":28,"column":11},"generated":{"line":1,"column":467}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":29,"column":10},"generated":{"line":1,"column":470}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":29,"column":10},"generated":{"line":1,"column":476}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"Error","original":{"line":29,"column":14},"generated":{"line":1,"column":480}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":29,"column":20},"generated":{"line":1,"column":486}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":33,"column":4},"generated":{"line":1,"column":558}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":33,"column":23},"generated":{"line":1,"column":560}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"BaseComponent","original":{"line":33,"column":49},"generated":{"line":1,"column":569}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"WithInsightsListener","original":{"line":67,"column":9},"generated":{"line":1,"column":572}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"WithInsightsListener","original":{"line":34,"column":11},"generated":{"line":1,"column":579}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"props","original":{"line":34,"column":32},"generated":{"line":1,"column":588}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":62,"column":11},"generated":{"line":1,"column":591}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":62,"column":11},"generated":{"line":1,"column":598}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":62,"column":13},"generated":{"line":1,"column":600}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":62,"column":13},"generated":{"line":1,"column":602}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":62,"column":13},"generated":{"line":1,"column":605}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":62,"column":20},"generated":{"line":1,"column":611}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"onClick","original":{"line":63,"column":6},"generated":{"line":1,"column":612}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":35,"column":22},"generated":{"line":1,"column":620}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"event","original":{"line":35,"column":43},"generated":{"line":1,"column":629}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"props","original":{"line":36,"column":10},"generated":{"line":1,"column":632}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"props","original":{"line":36,"column":10},"generated":{"line":1,"column":635}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"sendEvent","original":{"line":36,"column":16},"generated":{"line":1,"column":637}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":36,"column":27},"generated":{"line":1,"column":647}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"targetWithEvent","original":{"line":38,"column":12},"generated":{"line":1,"column":648}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"targetWithEvent","original":{"line":38,"column":12},"generated":{"line":1,"column":652}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"findInsightsTarget","original":{"line":38,"column":30},"generated":{"line":1,"column":654}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"event","original":{"line":38,"column":49},"generated":{"line":1,"column":656}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"target","original":{"line":38,"column":55},"generated":{"line":1,"column":658}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"event","original":{"line":38,"column":63},"generated":{"line":1,"column":665}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"currentTarget","original":{"line":38,"column":69},"generated":{"line":1,"column":667}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":38,"column":84},"generated":{"line":1,"column":681}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":38,"column":94},"generated":{"line":1,"column":690}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":39,"column":17},"generated":{"line":1,"column":693}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":39,"column":17},"generated":{"line":1,"column":700}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"hasAttribute","original":{"line":39,"column":25},"generated":{"line":1,"column":702}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":39,"column":38},"generated":{"line":1,"column":715}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"targetWithEvent","original":{"line":42,"column":12},"generated":{"line":1,"column":740}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"targetWithEvent","original":{"line":42,"column":12},"generated":{"line":1,"column":743}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":42,"column":29},"generated":{"line":1,"column":745}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"payload","original":{"line":43,"column":14},"generated":{"line":1,"column":746}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"payload","original":{"line":43,"column":14},"generated":{"line":1,"column":750}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"parseInsightsEvent","original":{"line":43,"column":24},"generated":{"line":1,"column":752}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"targetWithEvent","original":{"line":43,"column":43},"generated":{"line":1,"column":754}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"props","original":{"line":44,"column":10},"generated":{"line":1,"column":757}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"sendEvent","original":{"line":44,"column":16},"generated":{"line":1,"column":759}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"payload","original":{"line":44,"column":26},"generated":{"line":1,"column":769}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsTarget","original":{"line":49,"column":10},"generated":{"line":1,"column":773}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsTarget","original":{"line":49,"column":10},"generated":{"line":1,"column":777}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"findInsightsTarget","original":{"line":49,"column":27},"generated":{"line":1,"column":779}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"event","original":{"line":49,"column":46},"generated":{"line":1,"column":781}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"target","original":{"line":49,"column":52},"generated":{"line":1,"column":783}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"event","original":{"line":49,"column":60},"generated":{"line":1,"column":790}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"currentTarget","original":{"line":49,"column":66},"generated":{"line":1,"column":792}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":49,"column":81},"generated":{"line":1,"column":806}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":49,"column":91},"generated":{"line":1,"column":815}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":50,"column":15},"generated":{"line":1,"column":818}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":50,"column":15},"generated":{"line":1,"column":825}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":50,"column":33},"generated":{"line":1,"column":827}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":50,"column":33},"generated":{"line":1,"column":829}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"element","original":{"line":50,"column":33},"generated":{"line":1,"column":848}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsTarget","original":{"line":53,"column":10},"generated":{"line":1,"column":853}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsTarget","original":{"line":53,"column":10},"generated":{"line":1,"column":856}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":53,"column":26},"generated":{"line":1,"column":858}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"_readDataAttributes","original":{"line":54,"column":12},"generated":{"line":1,"column":859}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"_readDataAttributes","original":{"line":54,"column":12},"generated":{"line":1,"column":863}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":54,"column":34},"generated":{"line":1,"column":866}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsTarget","original":{"line":54,"column":53},"generated":{"line":1,"column":868}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsTarget","original":{"line":54,"column":53},"generated":{"line":1,"column":870}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsTarget","original":{"line":54,"column":53},"generated":{"line":1,"column":890}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"method","original":{"line":55,"column":12},"generated":{"line":1,"column":893}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"_readDataAttributes","original":{"line":55,"column":21},"generated":{"line":1,"column":895}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"method","original":{"line":55,"column":41},"generated":{"line":1,"column":897}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"_payload","original":{"line":56,"column":12},"generated":{"line":1,"column":904}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"_readDataAttributes","original":{"line":56,"column":23},"generated":{"line":1,"column":906}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"payload","original":{"line":56,"column":43},"generated":{"line":1,"column":908}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"props","original":{"line":58,"column":8},"generated":{"line":1,"column":916}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insights","original":{"line":58,"column":14},"generated":{"line":1,"column":918}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"method","original":{"line":58,"column":23},"generated":{"line":1,"column":927}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"_payload","original":{"line":58,"column":31},"generated":{"line":1,"column":929}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","original":{"line":64,"column":7},"generated":{"line":1,"column":936}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"BaseComponent","original":{"line":64,"column":9},"generated":{"line":1,"column":938}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"BaseComponent","original":{"line":64,"column":9},"generated":{"line":1,"column":940}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"BaseComponent","original":{"line":64,"column":9},"generated":{"line":1,"column":943}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"props","original":{"line":64,"column":24},"generated":{"line":1,"column":945}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":951}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":953}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":955}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":963}},{"source":"node_modules/instantsearch.js/es/lib/insights/listener.js","name":"insightsListener","original":{"line":70,"column":15},"generated":{"line":1,"column":971}}],"sources":{"node_modules/instantsearch.js/es/lib/insights/listener.js":"/** @jsx h */\nimport { h } from 'preact';\nimport { readDataAttributes, hasDataAttributes } from '../../helpers/insights';\n\nvar findInsightsTarget = function findInsightsTarget(startElement, endElement, validator) {\n  var element = startElement;\n\n  while (element && !validator(element)) {\n    if (element === endElement) {\n      return null;\n    }\n\n    element = element.parentElement;\n  }\n\n  return element;\n};\n\nvar parseInsightsEvent = function parseInsightsEvent(element) {\n  var serializedPayload = element.getAttribute('data-insights-event');\n\n  if (typeof serializedPayload !== 'string') {\n    throw new Error('The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.');\n  }\n\n  try {\n    return JSON.parse(atob(serializedPayload));\n  } catch (error) {\n    throw new Error('The insights middleware was unable to parse `data-insights-event`.');\n  }\n};\n\nvar insightsListener = function insightsListener(BaseComponent) {\n  function WithInsightsListener(props) {\n    var handleClick = function handleClick(event) {\n      if (props.sendEvent) {\n        // new way with insights middleware\n        var targetWithEvent = findInsightsTarget(event.target, event.currentTarget, function (element) {\n          return element.hasAttribute('data-insights-event');\n        });\n\n        if (targetWithEvent) {\n          var payload = parseInsightsEvent(targetWithEvent);\n          props.sendEvent(payload);\n        }\n      } // old way, e.g. instantsearch.insights(\"clickedObjectIDsAfterSearch\", { .. })\n\n\n      var insightsTarget = findInsightsTarget(event.target, event.currentTarget, function (element) {\n        return hasDataAttributes(element);\n      });\n\n      if (insightsTarget) {\n        var _readDataAttributes = readDataAttributes(insightsTarget),\n            method = _readDataAttributes.method,\n            _payload = _readDataAttributes.payload;\n\n        props.insights(method, _payload);\n      }\n    };\n\n    return h(\"div\", {\n      onClick: handleClick\n    }, h(BaseComponent, props));\n  }\n\n  return WithInsightsListener;\n};\n\nexport default insightsListener;"},"lineCount":null}},"error":null,"hash":"5ab0700c68dc21d6b02aad9e89ccd91f","cacheData":{"env":{}}}